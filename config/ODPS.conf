[train]
cuda = 0
seed = 1234
batch_size = 32
max_epoch = 50
learning_rate = 0.001
weight_decay = 0.0001

[data]
# ODPS 配置
odps_project = autonavi_traffic_report
odps_endpoint = http://service-corp.odps.aliyun-inc.com/api
odps_table = tb_inter_spatial_method_pretrain_data

# ODPS 元数据表（必须，包含节点经纬度信息）
# 用于 KD-tree 空间分组，必须提供
# 表结构应包含: nds_id, next_nds_id, lat, lng
odps_meta_table = intersection_meta_aligned

# 数据过滤条件
# 行政区划代码，例如: 650100(乌鲁木齐), 110000(北京), 310000(上海)
# 支持多个地区，用逗号分隔（会依次训练每个地区）
adcode = 110000,650100

# 地区名称（用于日志和模型文件命名，与 adcode 一一对应）
region_names = beijing,urumqi

# 数据日期范围 (格式: YYYYMMDD)
start_date = 20250919
end_date = 20250925

# 序列长度
input_len = 12
output_len = 12

# 数据集划分比例 (6:2:2)
train_ratio = 0.6
val_ratio = 0.2
test_ratio = 0.2

[param]
# 模型参数
layers = 3
# 时间 patch
tps = 4
tpn = 3
# Attention 因子
factors = 5
# 空间 patch（递归次数）
recur = 1
sps = 4
spn = 1
# 节点数（将在运行时自动从数据中获取）
nodes = 0
# 时间特征
tod = 1
dow = 1
# 嵌入维度
id = 1
nd = 32
td = 32
dd = 32

[file]
# 模型和日志文件路径
model = ./saved_models/odps_beijing_model.pth
log = ./log/odps_beijing_log
